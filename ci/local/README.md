### vagrant ###
- both **VirtualBox** and **vagrant** need to be installed on host machine
- `Vagrantfile` network settings may need to be updated
```
config.vm.network "public_network", bridge: 'en1: Wi-Fi (AirPort)'
```
- `git_config.json` needs to be generated on host machine. `python git_config.py`
- `vagrant up` creates and starts virtual machine
- `vagrant ssh` for **ssh** into VM
- `distribute-ssh.sh` copies key generated by **vagrant** This then enables
  `ssh -i ~/.ssh/vagrant_key vagrant@gpd.local` with standard command line to VM.
- with key available **VS Code** can connect to VM

### nektos/act ###
- requires https://github.com/nektos/act/releases/tag/v0.2.34 which has feature to
  allow runners on host machine (instead of in **docker** containers)
- test it's all worked - ssh into VM
```
cd geopandas
act -g # show configured jobs
source /vagrant/getready.sh
act -j Linting # simplest job, check Linting works
act -j prepenv # will show matrix that will be used for main run
nohup act pull_request --json > ../log.log 2> /dev/null &
```
- have shifted generation of Github actions matrix to `ci/scripts/eny.py` **prepenv**
  job uses this.  This is V1 - concept being **conda** yaml files become more dynamic

### conda / mamba ###
- micromamba is installed when VM is built
- for efficiency using host install of **mamba** instead of installing for each job
  in matrix
- have patched https://github.com/conda-incubator/setup-miniconda/pull/265 so that VM 
  hosted **mamba** is used (else **conda** will be used)
- after **act** jobs have run, there can be problems that `.bashrc` has been removed
  and `.profile` is activating environment that causes issues.  Currently manually 
  removing these lines and `/vagrant/getready.sh` deactivates and activates appropriate
  envs

### using output ###
- `python serve_html.py -f ~/log.log` converts **act** JSON log file to HTML
- `python -m http.server --directory html/` make HTML easily 
   available http://gpd.local:8000
